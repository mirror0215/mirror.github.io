<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <h1 class="header-main">KOKIの勉強部屋</h1>
        <nav class="header-nav">
            <a href="index.html">ホーム</a>
            <a href="profile.html">プロフィール</a>
            <a href="study.html"> 学習記録</a>
        </nav>
    </header>
    <div class="profile">


    </div>
    <main class="main">
        <h1 class="title">JAVAで対戦ゲームを作ってみよう!</h1>
    <div class="main-nav">
        <a href="#section1">1.目的</a><br>
        <a href="#section2">2.前提知識</a><br>
        <a href="#section3">3.対戦構造について考える</a><br>
        <a href="#section4">4.攻撃関数を強化しよう</a><br>
        <a href="#section5">5.ゴブリンを強化しよう</a><br>
    </div>    
    <div class="main-text">
        <h2 class="main-title" id="section1">目的</h2>
        <p>JAVAを用いてRPGの対戦構造を考え、コマンドプロンプトで作動するCUIで楽しめる対戦ゲームをプログラミングしてみる</p>

        <h2 class="main-title" id="section2">前提知識</h2>
        <p>JAVAの基礎知識<br>オブジェクト指向の基礎理解</p>
        
        <h2 class="main-title" id="section3">対戦構造について考える</h2>
        <p>RPGの対戦構造は基本的には自分のターンと相手のターンを繰り返して、どちらかのHPが0になれば対戦を終了し、生き残っていた方が勝つという構造になっている。<br>
           各ターンでは「攻撃」や「回復」などといった行動を選択することができ、多様な戦い方をできることが醍醐味といえるだろう。<br>
           <br>
           では、実際に簡単なコードを書いてみよう。<br>
           まず、勇者とゴブリンが戦うという想定で、対戦ゲームを考えていく。ひとまず、勇者とゴブリンは体力(HP)と攻撃力(AT)を保有し、体力(HP)が0になれば対戦を終了するというプログラムを書いてみることにする。</p>
           <img src="Java1.png" >

           <p>このコードはwhile文によってどちらかのHPが0になった時点でループから抜けるようなコードになっているが、問題がある。<br>
           それは2ターン目の勇者の攻撃でゴブリンのHPは0になりゴブリンは死亡しているはずなのに、その後ゴブリンが勇者に攻撃できてしまっている点である。<br>
           これを解決するためには勇者の攻撃のあとに、ゴブリンの死亡判定を行い、ゴブリンの攻撃のあとに、勇者の死亡判定を行うことである。<br>
           <br>
           また、これはプログラムの動作に関わる問題ではないが、「勇者の攻撃➡ゴブリンの死亡判定➡ゴブリンの攻撃➡勇者の死亡判定」を記述する際に、現状の書き方ではコードが複雑化することが考えられる。<br>
           そのため、攻撃の関数と死亡判定の関数を用意して、コードの改善を図ってみることにする。</p>
           <img src="Java2.png">
           <p>このコードでは、新たな変数である「judge」を用意して、judgeが0になればループから抜けだす構造にしている。<br>
              また、攻撃関数も攻撃者情報と攻撃対象者の情報を入力すれば、それらに従って動作するので、可用性が上がったといえる。<br>
              これで基本的な対戦構造は完成できたといっていいだろう。<br>
            <br>
            では次に攻撃関数により焦点をあてて、プログラムを記述していこう。</p>
        <h2 class="main-title" id="section4">攻撃関数を強化しよう</h2>
        <p>今の攻撃関数は単純に攻撃対象の体力から攻撃力を引いているのみである。これをより強化させるために、以下の点を実装させよう。</p>
           <li>攻撃によってHPがどのように変化したかを出力させる</li>
           <li>一定の確率でクリティカル攻撃を行う</li>
           <li>ダメージの値を攻撃力の周辺の値で反映させる</li>
        <p>攻撃によるHPの変化を表すためには攻撃前のHPと攻撃後のHPを出力する必要がある。しかし、現在のコードだとHPの変数が同じであるため、新たな変数を導入する必要がある。<br>
            クリティカル攻撃は乱数を生成して、確率で実装できるように行い、攻撃力に関しても乱数で攻撃力周辺の値が生成されるように指示することで実装できるように試みる。
            <br>
        実際のコードは以下の通りである。</p>
           <img src="Java3.png">
        <p>先に述べた改善を施し、更に体力がマイナス表示されれば、0になるような処理を実装することができた。</p>
        <h2 class="main-title" id=" section5">ゴブリンの攻撃を強化しよう</h2>
        <p>ゴブリンの攻撃パターンに、5ターンに一度強い攻撃を放つという特性を実装してみよう。この実装では、クリティカル攻撃のような乱数要素に加え、<br>
           5ターン以内に必ず強攻撃が発動するという制約を追加で考慮しなければならない。そこで、強攻撃発動しなければ数字が減る変数を用意しておき、<br>
           5ターン連続で通常攻撃が行われれば、次のターンで必ず強攻撃が発動するように実装を行ってみる。</p>
            <img src="Java4.png">
            <img src="Java5.png">
        <p></p>
        </p>
    </div>


    </div>
    </main>
    
</body>
</html>